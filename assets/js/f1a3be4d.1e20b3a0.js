"use strict";(self.webpackChunkmy_site=self.webpackChunkmy_site||[]).push([[7043],{3977:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>a,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Document 001/023","title":"23. Network Programming","description":"Python provides...","source":"@site/docs/Document 001/023.md","sourceDirName":"Document 001","slug":"/Document 001/023","permalink":"/blog/docs/Document 001/023","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"23. Network Programming","description":"Python provides...","lead":"","date":"2022-01-25T13:41:39.000Z","lastmod":"2022-01-25T13:41:39.000Z","draft":false,"images":[],"type":"docs","toc":true,"weight":23},"sidebar":"sidebar_doc_001","previous":{"title":"22. MySQL Database Access","permalink":"/blog/docs/Document 001/022"},"next":{"title":"24. Sending Email","permalink":"/blog/docs/Document 001/024"}}');var r=n(4848),i=n(8453);const c={title:"23. Network Programming",description:"Python provides...",lead:"",date:new Date("2022-01-25T13:41:39.000Z"),lastmod:new Date("2022-01-25T13:41:39.000Z"),draft:!1,images:[],type:"docs",toc:!0,weight:23},l=void 0,o={},d=[{value:"What is Sockets?",id:"what-is-sockets",level:2},{value:"The <em>socket</em> Module",id:"the-socket-module",level:2},{value:"Server Socket Methods",id:"server-socket-methods",level:2},{value:"Client Socket Methods",id:"client-socket-methods",level:2},{value:"General Socket Methods",id:"general-socket-methods",level:2},{value:"A Simple Server",id:"a-simple-server",level:2},{value:"A Simple Client",id:"a-simple-client",level:2},{value:"Python Internet modules",id:"python-internet-modules",level:2},{value:"Further Readings",id:"further-readings",level:2}];function h(e){const t={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Python provides two levels of access to network services. At a low level, you can access the basic socket support in the underlying operating system, which allows you to implement clients and servers for both connection-oriented and connectionless protocols."}),"\n",(0,r.jsx)(t.p,{children:"Python also has libraries that provide higher-level access to specific application-level network protocols, such as FTP, HTTP, and so on."}),"\n",(0,r.jsx)(t.p,{children:"This chapter gives you understanding on most famous concept in Networking - Socket Programming."}),"\n",(0,r.jsx)(t.h2,{id:"what-is-sockets",children:"What is Sockets?"}),"\n",(0,r.jsx)(t.p,{children:"Sockets are the endpoints of a bidirectional communications channel. Sockets may communicate within a process, between processes on the same machine, or between processes on different continents."}),"\n",(0,r.jsxs)(t.p,{children:["Sockets may be implemented over a number of different channel types: Unix domain sockets, TCP, UDP, and so on. The ",(0,r.jsx)(t.em,{children:"socket"})," library provides specific classes for handling the common transports as well as a generic interface for handling the rest."]}),"\n",(0,r.jsx)(t.p,{children:"Sockets have their own vocabulary \u2212"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Sr.No."}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Term & Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,r.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,r.jsx)(t.strong,{children:"Domain"}),"The family of protocols that is used as the transport mechanism. These values are constants such as AF_INET, PF_INET, PF_UNIX, PF_X25, and so on."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"2"}),(0,r.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,r.jsx)(t.strong,{children:"type"}),"The type of communications between the two endpoints, typically SOCK_STREAM for connection-oriented protocols and SOCK_DGRAM for connectionless protocols."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"3"}),(0,r.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,r.jsx)(t.strong,{children:"protocol"}),"Typically zero, this may be used to identify a variant of a protocol within a domain and type."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,r.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,r.jsx)(t.strong,{children:"hostname"}),"The identifier of a network interface ",(0,r.jsx)(t.code,{children:"\u2212A"})," string, which can be a host name, a dotted-quad address, or an IPV6 address in colon (and possibly dot) notationA string ",(0,r.jsx)(t.code,{children:'"<broadcast>"'}),", which specifies an INADDR_BROADCAST address.A zero-length string, which specifies INADDR_ANY, orAn Integer, interpreted as a binary address in host byte order."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"5"}),(0,r.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,r.jsx)(t.strong,{children:"port"}),"Each server listens for clients calling on one or more ports. A port may be a Fixnum port number, a string containing a port number, or the name of a service."]})]})]})]}),"\n",(0,r.jsxs)(t.h2,{id:"the-socket-module",children:["The ",(0,r.jsx)(t.em,{children:"socket"})," Module"]}),"\n",(0,r.jsxs)(t.p,{children:["To create a socket, you must use the ",(0,r.jsx)(t.em,{children:"socket.socket()"})," function available in ",(0,r.jsx)(t.em,{children:"socket"})," module, which has the general syntax \u2212"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"s = socket.socket (socket_family, socket_type, protocol=0)\n"})}),"\n",(0,r.jsx)(t.p,{children:"Here is the description of the parameters \u2212"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"socket_family"})," \u2212 This is either AF_UNIX or AF_INET, as explained earlier."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"socket_type"})," \u2212 This is either SOCK_STREAM or SOCK_DGRAM."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"protocol"})," \u2212 This is usually left out, defaulting to 0."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Once you have ",(0,r.jsx)(t.em,{children:"socket"})," object, then you can use required functions to create your client or server program. Following is the list of functions required \u2212"]}),"\n",(0,r.jsx)(t.h2,{id:"server-socket-methods",children:"Server Socket Methods"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Sr.No."}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Method & Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**s.bind()**This method binds address (hostname, port number pair) to socket."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"2"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**s.listen()**This method sets up and start TCP listener."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"3"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**s.accept()**This passively accept TCP client connection, waiting until connection arrives (blocking)."})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"client-socket-methods",children:"Client Socket Methods"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Sr.No."}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Method & Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**s.connect()**This method actively initiates TCP server connection."})]})})]}),"\n",(0,r.jsx)(t.h2,{id:"general-socket-methods",children:"General Socket Methods"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Sr.No."}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Method & Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"1"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**s.recv()**This method receives TCP message"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"2"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**s.send()**This method transmits TCP message"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"3"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**s.recvfrom()**This method receives UDP message"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"4"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**s.sendto()**This method transmits UDP message"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"5"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**s.close()**This method closes socket"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"6"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"**socket.gethostname()**Returns the hostname."})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"a-simple-server",children:"A Simple Server"}),"\n",(0,r.jsxs)(t.p,{children:["To write Internet servers, we use the ",(0,r.jsx)(t.strong,{children:"socket"})," function available in socket module to create a socket object. A socket object is then used to call other functions to setup a socket server."]}),"\n",(0,r.jsxs)(t.p,{children:["Now call ",(0,r.jsx)(t.strong,{children:"bind(hostname, port)"})," function to specify a ",(0,r.jsx)(t.em,{children:"port"})," for your service on the given host."]}),"\n",(0,r.jsxs)(t.p,{children:["Next, call the ",(0,r.jsx)(t.em,{children:"accept"})," method of the returned object. This method waits until a client connects to the port you specified, and then returns a ",(0,r.jsx)(t.em,{children:"connection"})," object that represents the connection to that client."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"#!/usr/bin/python           # This is server.py file\n\nimport socket               # Import socket module\n\ns = socket.socket()         # Create a socket object\nhost = socket.gethostname() # Get local machine name\nport = 12345                # Reserve a port for your service.\ns.bind((host, port))        # Bind to the port\n\ns.listen(5)                 # Now wait for client connection.\nwhile True:\n   c, addr = s.accept()     # Establish connection with client.\n   print 'Got connection from', addr\n   c.send('Thank you for connecting')\n   c.close()                # Close the connection\n"})}),"\n",(0,r.jsx)(t.h2,{id:"a-simple-client",children:"A Simple Client"}),"\n",(0,r.jsxs)(t.p,{children:["Let us write a very simple client program which opens a connection to a given port 12345 and given host. This is very simple to create a socket client using Python's ",(0,r.jsx)(t.em,{children:"socket"})," module function."]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"socket.connect(hosname, port )"})," opens a TCP connection to ",(0,r.jsx)(t.em,{children:"hostname"})," on the ",(0,r.jsx)(t.em,{children:"port"}),". Once you have a socket open, you can read from it like any IO object. When done, remember to close it, as you would close a file."]}),"\n",(0,r.jsx)(t.p,{children:"The following code is a very simple client that connects to a given host and port, reads any available data from the socket, and then exits \u2212"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"#!/usr/bin/python           # This is client.py file\n\nimport socket               # Import socket module\n\ns = socket.socket()         # Create a socket object\nhost = socket.gethostname() # Get local machine name\nport = 12345                # Reserve a port for your service.\n\ns.connect((host, port))\nprint s.recv(1024)\ns.close()                     # Close the socket when done\n"})}),"\n",(0,r.jsx)(t.p,{children:"Now run this server.py in background and then run above client.py to see the result."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"# Following would start a server in background.\n$ python server.py & \n\n# Once server is started run client as follows:\n$ python client.py\n"})}),"\n",(0,r.jsx)(t.p,{children:"This would produce following result \u2212"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"Got connection from ('127.0.0.1', 48437)\nThank you for connecting\n"})}),"\n",(0,r.jsx)(t.h2,{id:"python-internet-modules",children:"Python Internet modules"}),"\n",(0,r.jsx)(t.p,{children:"A list of some important modules in Python Network/Internet programming."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Protocol"}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Common function"}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Port No"}),(0,r.jsx)(t.th,{children:"Python module"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"HTTP"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Web pages"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"80"}),(0,r.jsx)(t.td,{children:"httplib, urllib, xmlrpclib"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"NNTP"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Usenet news"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"119"}),(0,r.jsx)(t.td,{children:"nntplib"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"FTP"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"File transfers"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"20"}),(0,r.jsx)(t.td,{children:"ftplib, urllib"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"SMTP"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Sending email"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"25"}),(0,r.jsx)(t.td,{children:"smtplib"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"POP3"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Fetching email"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"110"}),(0,r.jsx)(t.td,{children:"poplib"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"IMAP4"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Fetching email"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"143"}),(0,r.jsx)(t.td,{children:"imaplib"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Telnet"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Command lines"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"23"}),(0,r.jsx)(t.td,{children:"telnetlib"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Gopher"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Document transfers"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"70"}),(0,r.jsx)(t.td,{children:"gopherlib, urllib"})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"Please check all the libraries mentioned above to work with FTP, SMTP, POP, and IMAP protocols."}),"\n",(0,r.jsx)(t.h2,{id:"further-readings",children:"Further Readings"}),"\n",(0,r.jsx)(t.p,{children:"This was a quick start with Socket Programming. It is a vast subject. It is recommended to go through the following link to find more detail \u2212"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://www.tutorialspoint.com/unix_sockets/index.htm",children:"Unix Socket Programming"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"http://docs.python.org/3.0/library/socket.html",children:"Python Socket Library and Modules"}),"."]}),"\n"]})]})}function a(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>l});var s=n(6540);const r={},i=s.createContext(r);function c(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);
<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Document 001/028" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.1">
<title data-rh="true">28. Further Extension | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://muysengly.github.io/blog/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://muysengly.github.io/blog/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://muysengly.github.io/blog/docs/Document 001/028"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="28. Further Extension | My Site"><meta data-rh="true" name="description" content="Any code..."><meta data-rh="true" property="og:description" content="Any code..."><link data-rh="true" rel="icon" href="/blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://muysengly.github.io/blog/docs/Document 001/028"><link data-rh="true" rel="alternate" href="https://muysengly.github.io/blog/docs/Document 001/028" hreflang="en"><link data-rh="true" rel="alternate" href="https://muysengly.github.io/blog/docs/Document 001/028" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/blog/atom.xml" title="My Site Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/blog/assets/css/styles.31220f9a.css">
<script src="/blog/assets/js/runtime~main.1a9862b3.js" defer="defer"></script>
<script src="/blog/assets/js/main.fe66a1c8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"><div class="navbar__logo"><img src="/blog/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/blog/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Courses</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog/docs/Document 002/001">Learn Python 2</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/blog/docs/Document 001/001">Learn Python 3</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a class="navbar__item navbar__link" href="/blog/about">About</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog/contact">Contact Me</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/001">1. Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/002">2. Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/003">3. Environment Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/004">4. Basic Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/005">5. Variable Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/006">6. Basic Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/007">7. Decision Making</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/008">8. Loops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/009">9. Numbers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/010">10. Strings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/011">11. Lists</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/012">12. Tuples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/013">13. Dictionary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/014">14. Date &amp; Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/015">15. Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/016">16. Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/017">17. Files I/O</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/018">18. Exceptions Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/019">19. Object Oriented</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/021">21. CGI Programming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/022">22. MySQL Database Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/023">23. Network Programming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/024">24. Sending Email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/025">25. Multithreaded Programming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/026">26. XML Processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/docs/Document 001/027">27. GUI Programming (Tkinter)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/blog/docs/Document 001/028">28. Further Extension</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/blog/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">28. Further Extension</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>28. Further Extension</h1></header><p>Any code that you write using any compiled language like C, C++, or Java can be integrated or imported into another Python script. This code is considered as an &quot;extension.&quot;</p>
<p>A Python extension module is nothing more than a normal C library. On Unix machines, these libraries usually end in <strong>.so</strong> (for shared object). On Windows machines, you typically see <strong>.dll</strong> (for dynamically linked library).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisites-for-writing-extensions">Pre-Requisites for Writing Extensions<a href="#pre-requisites-for-writing-extensions" class="hash-link" aria-label="Direct link to Pre-Requisites for Writing Extensions" title="Direct link to Pre-Requisites for Writing Extensions">​</a></h2>
<p>To start writing your extension, you are going to need the Python header files.</p>
<ul>
<li>On Unix machines, this usually requires installing a developer-specific package such as <a href="http://packages.debian.org/etch-m68k/python2.5-dev" target="_blank" rel="noopener noreferrer">python2.5-dev</a>.</li>
<li>Windows users get these headers as part of the package when they use the binary Python installer.</li>
</ul>
<p>Additionally, it is assumed that you have good knowledge of C or C++ to write any Python Extension using C programming.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="first-look-at-a-python-extension">First look at a Python Extension<a href="#first-look-at-a-python-extension" class="hash-link" aria-label="Direct link to First look at a Python Extension" title="Direct link to First look at a Python Extension">​</a></h2>
<p>For your first look at a Python extension module, you need to group your code into four part −</p>
<ul>
<li>The header file <em>Python.h</em>.</li>
<li>The C functions you want to expose as the interface from your module.</li>
<li>A table mapping the names of your functions as Python developers see them to C functions inside the extension module.</li>
<li>An initialization function.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-header-file-pythonh">The Header File <em>Python.h</em><a href="#the-header-file-pythonh" class="hash-link" aria-label="Direct link to the-header-file-pythonh" title="Direct link to the-header-file-pythonh">​</a></h2>
<p>You need include <em>Python.h</em> header file in your C source file, which gives you access to the internal Python API used to hook your module into the interpreter.</p>
<p>Make sure to include Python.h before any other headers you might need. You need to follow the includes with the functions you want to call from Python.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-c-functions">The C Functions<a href="#the-c-functions" class="hash-link" aria-label="Direct link to The C Functions" title="Direct link to The C Functions">​</a></h2>
<p>The signatures of the C implementation of your functions always takes one of the following three forms −</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token function" style="color:#d73a49">MyFunction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token function" style="color:#d73a49">MyFunctionWithKeywords</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">kw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token function" style="color:#d73a49">MyFunctionWithNoArgs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">self </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Each one of the preceding declarations returns a Python object. There is no such thing as a <em>void</em> function in Python as there is in C. If you do not want your functions to return a value, return the C equivalent of Python&#x27;s <strong>None</strong> value. The Python headers define a macro, Py_RETURN_NONE, that does this for us.</p>
<p>The names of your C functions can be whatever you like as they are never seen outside of the extension module. They are defined as <em>static</em> function.</p>
<p>Your C functions usually are named by combining the Python module and function names together, as shown here −</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token function" style="color:#d73a49">module_func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> PyObject </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">/* Do your stuff here. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Py_RETURN_NONE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is a Python function called <em>func</em> inside of the module <em>module</em>. You will be putting pointers to your C functions into the method table for the module that usually comes next in your source code.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-method-mapping-table">The Method Mapping Table<a href="#the-method-mapping-table" class="hash-link" aria-label="Direct link to The Method Mapping Table" title="Direct link to The Method Mapping Table">​</a></h2>
<p>This method table is a simple array of PyMethodDef structures. That structure looks something like this −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct PyMethodDef {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   char *ml_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   PyCFunction ml_meth;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   int ml_flags;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   char *ml_doc;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here is the description of the members of this structure −</p>
<ul>
<li><strong>ml_name</strong> − This is the name of the function as the Python interpreter presents when it is used in Python programs.</li>
<li><strong>ml_meth</strong> − This must be the address to a function that has any one of the signatures described in previous seection.</li>
<li><strong>ml_flags</strong> − This tells the interpreter which of the three signatures ml_meth is using.<!-- -->
<ul>
<li>This flag usually has a value of METH_VARARGS.</li>
<li>This flag can be bitwise OR&#x27;ed with METH_KEYWORDS if you want to allow keyword arguments into your function.</li>
<li>This can also have a value of METH_NOARGS that indicates you do not want to accept any arguments.</li>
</ul>
</li>
<li><strong>ml_doc</strong> − This is the docstring for the function, which could be NULL if you do not feel like writing one.</li>
</ul>
<p>This table needs to be terminated with a sentinel that consists of NULL and 0 values for the appropriate members.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>For the above-defined function, we have following method mapping table −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static PyMethodDef module_methods[] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   { &quot;func&quot;, (PyCFunction)module_func, METH_NOARGS, NULL },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   { NULL, NULL, 0, NULL }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-initialization-function">The Initialization Function<a href="#the-initialization-function" class="hash-link" aria-label="Direct link to The Initialization Function" title="Direct link to The Initialization Function">​</a></h2>
<p>The last part of your extension module is the initialization function. This function is called by the Python interpreter when the module is loaded. It is required that the function be named <strong>init*Module*</strong>, where <em>Module</em> is the name of the module.</p>
<p>The initialization function needs to be exported from the library you will be building. The Python headers define PyMODINIT_FUNC to include the appropriate incantations for that to happen for the particular environment in which we&#x27;re compiling. All you have to do is use it when defining the function.</p>
<p>Your C initialization function generally has the following overall structure −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PyMODINIT_FUNC initModule() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Py_InitModule3(func, module_methods, &quot;docstring...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here is the description of <em>Py_InitModule3</em> function −</p>
<ul>
<li><strong>func</strong> − This is the function to be exported.</li>
<li>*<strong>module*_methods</strong> − This is the mapping table name defined above.</li>
<li>*<strong>docstring*</strong> − This is the comment you want to give in your extension.</li>
</ul>
<p>Putting this all together looks like the following −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;Python.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static PyObject *module_func(PyObject *self, PyObject *args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /* Do your stuff here. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Py_RETURN_NONE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static PyMethodDef module_methods[] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   { &quot;func&quot;, (PyCFunction)module_func, METH_NOARGS, NULL },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   { NULL, NULL, 0, NULL }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PyMODINIT_FUNC initModule() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Py_InitModule3(func, module_methods, &quot;docstring...&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example<a href="#example-1" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>A simple example that makes use of all the above concepts −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;Python.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static PyObject* helloworld(PyObject* self) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return Py_BuildValue(&quot;s&quot;, &quot;Hello, Python extensions!!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static char helloworld_docs[] =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;helloworld( ): Any message you want to put here!!\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static PyMethodDef helloworld_funcs[] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   {&quot;helloworld&quot;, (PyCFunction)helloworld, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      METH_NOARGS, helloworld_docs},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {NULL}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void inithelloworld(void) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Py_InitModule3(&quot;helloworld&quot;, helloworld_funcs,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;Extension module example!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here the <em>Py_BuildValue</em> function is used to build a Python value. Save above code in hello.c file. We would see how to compile and install this module to be called from Python script.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-and-installing-extensions">Building and Installing Extensions<a href="#building-and-installing-extensions" class="hash-link" aria-label="Direct link to Building and Installing Extensions" title="Direct link to Building and Installing Extensions">​</a></h2>
<p>The <em>distutils</em> package makes it very easy to distribute Python modules, both pure Python and extension modules, in a standard way. Modules are distributed in source form and built and installed via a setup script usually called <em>setup.py</em> as follows.</p>
<p>For the above module, you need to prepare following setup.py script −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">from distutils.core import setup, Extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">setup(name=&#x27;helloworld&#x27;, version=&#x27;1.0&#x27;,  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ext_modules=[Extension(&#x27;helloworld&#x27;, [&#x27;hello.c&#x27;])])</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now, use the following command, which would perform all needed compilation and linking steps, with the right compiler and linker commands and flags, and copies the resulting dynamic library into an appropriate directory −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$python setup.py install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>On Unix-based systems, you&#x27;ll most likely need to run this command as root in order to have permissions to write to the site-packages directory. This usually is not a problem on Windows.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="importing-extensions">Importing Extensions<a href="#importing-extensions" class="hash-link" aria-label="Direct link to Importing Extensions" title="Direct link to Importing Extensions">​</a></h2>
<p>Once you installed your extension, you would be able to import and call that extension in your Python script as follows −</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#!/usr/bin/python</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> helloworld</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token plain"> helloworld</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">helloworld</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This would produce the following result −</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Hello, Python extensions!!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="passing-function-parameters">Passing Function Parameters<a href="#passing-function-parameters" class="hash-link" aria-label="Direct link to Passing Function Parameters" title="Direct link to Passing Function Parameters">​</a></h2>
<p>As you will most likely want to define functions that accept arguments, you can use one of the other signatures for your C functions. For example, following function, that accepts some number of parameters, would be defined like this −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static PyObject *module_func(PyObject *self, PyObject *args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /* Parse args and do something interesting here. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Py_RETURN_NONE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The method table containing an entry for the new function would look like this −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static PyMethodDef module_methods[] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   { &quot;func&quot;, (PyCFunction)module_func, METH_NOARGS, NULL },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   { &quot;func&quot;, module_func, METH_VARARGS, NULL },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   { NULL, NULL, 0, NULL }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can use API <em>PyArg_ParseTuple</em> function to extract the arguments from the one PyObject pointer passed into your C function.</p>
<p>The first argument to PyArg_ParseTuple is the args argument. This is the object you will be <em>parsing</em>. The second argument is a format string describing the arguments as you expect them to appear. Each argument is represented by one or more characters in the format string as follows.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static PyObject *module_func(PyObject *self, PyObject *args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   int i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   double d;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   char *s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if (!PyArg_ParseTuple(args, &quot;ids&quot;, &amp;i, &amp;d, &amp;s)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return NULL;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   /* Do something interesting here. */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Py_RETURN_NONE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Compiling the new version of your module and importing it enables you to invoke the new function with any number of arguments of any type −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module.func(1, s=&quot;three&quot;, d=2.0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.func(i=1, d=2.0, s=&quot;three&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module.func(s=&quot;three&quot;, d=2.0, i=1)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can probably come up with even more variations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-pyarg_parsetuple-function">The <em>PyArg_ParseTuple</em> Function<a href="#the-pyarg_parsetuple-function" class="hash-link" aria-label="Direct link to the-pyarg_parsetuple-function" title="Direct link to the-pyarg_parsetuple-function">​</a></h2>
<p>Here is the standard signature for <strong>PyArg_ParseTuple</strong> function −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int PyArg_ParseTuple(PyObject* tuple,char* format,...)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This function returns 0 for errors, and a value not equal to 0 for success. tuple is the PyObject that was the C function&#x27;s second argument. Here, format is a C string that describes mandatory and optional arguments.</p>
<p>Here is a list of format codes for <strong>PyArg_ParseTuple</strong> function −</p>
<table><thead><tr><th style="text-align:center">Code</th><th style="text-align:center">C type</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">c</td><td style="text-align:center">char</td><td style="text-align:center">A Python string of length 1 becomes a C char.</td></tr><tr><td style="text-align:center">d</td><td style="text-align:center">double</td><td style="text-align:center">A Python float becomes a C double.</td></tr><tr><td style="text-align:center">f</td><td style="text-align:center">float</td><td style="text-align:center">A Python float becomes a C float.</td></tr><tr><td style="text-align:center">i</td><td style="text-align:center">int</td><td style="text-align:center">A Python int becomes a C int.</td></tr><tr><td style="text-align:center">l</td><td style="text-align:center">long</td><td style="text-align:center">A Python int becomes a C long.</td></tr><tr><td style="text-align:center">L</td><td style="text-align:center">long long</td><td style="text-align:center">A Python int becomes a C long long</td></tr><tr><td style="text-align:center">O</td><td style="text-align:center">PyObject*</td><td style="text-align:center">Gets non-NULL borrowed reference to Python argument.</td></tr><tr><td style="text-align:center">s</td><td style="text-align:center">char*</td><td style="text-align:center">Python string without embedded nulls to C char*.</td></tr><tr><td style="text-align:center">s#</td><td style="text-align:center">char*+int</td><td style="text-align:center">Any Python string to C address and length.</td></tr><tr><td style="text-align:center">t#</td><td style="text-align:center">char*+int</td><td style="text-align:center">Read-only single-segment buffer to C address and length.</td></tr><tr><td style="text-align:center">u</td><td style="text-align:center">Py_UNICODE*</td><td style="text-align:center">Python Unicode without embedded nulls to C.</td></tr><tr><td style="text-align:center">u#</td><td style="text-align:center">Py_UNICODE*+int</td><td style="text-align:center">Any Python Unicode C address and length.</td></tr><tr><td style="text-align:center">w#</td><td style="text-align:center">char*+int</td><td style="text-align:center">Read/write single-segment buffer to C address and length.</td></tr><tr><td style="text-align:center">z</td><td style="text-align:center">char*</td><td style="text-align:center">Like s, also accepts None (sets C char* to NULL).</td></tr><tr><td style="text-align:center">z#</td><td style="text-align:center">char*+int</td><td style="text-align:center">Like s#, also accepts None (sets C char* to NULL).</td></tr><tr><td style="text-align:center">(...)</td><td style="text-align:center">as per ...</td><td style="text-align:center">A Python sequence is treated as one argument per item.</td></tr><tr><td style="text-align:center">|</td><td style="text-align:center"></td><td style="text-align:center">The following arguments are optional.</td></tr><tr><td style="text-align:center">:</td><td style="text-align:center"></td><td style="text-align:center">Format end, followed by function name for error messages.</td></tr><tr><td style="text-align:center">;</td><td style="text-align:center"></td><td style="text-align:center">Format end, followed by entire error message text.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="returning-values">Returning Values<a href="#returning-values" class="hash-link" aria-label="Direct link to Returning Values" title="Direct link to Returning Values">​</a></h2>
<p><em>Py_BuildValue</em> takes in a format string much like <em>PyArg_ParseTuple</em> does. Instead of passing in the addresses of the values you are building, you pass in the actual values. Here&#x27;s an example showing how to implement an add function −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static PyObject *foo_add(PyObject *self, PyObject *args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   int a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   int b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if (!PyArg_ParseTuple(args, &quot;ii&quot;, &amp;a, &amp;b)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return NULL;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return Py_BuildValue(&quot;i&quot;, a + b);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is what it would look like if implemented in Python −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def add(a, b):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return (a + b)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can return two values from your function as follows, this would be cauptured using a list in Python.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">static PyObject *foo_add_subtract(PyObject *self, PyObject *args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   int a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   int b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if (!PyArg_ParseTuple(args, &quot;ii&quot;, &amp;a, &amp;b)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return NULL;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return Py_BuildValue(&quot;ii&quot;, a + b, a - b);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is what it would look like if implemented in Python −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def add_subtract(a, b):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return (a + b, a - b)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-py_buildvalue-function">The <em>Py_BuildValue</em> Function<a href="#the-py_buildvalue-function" class="hash-link" aria-label="Direct link to the-py_buildvalue-function" title="Direct link to the-py_buildvalue-function">​</a></h2>
<p>Here is the standard signature for <strong>Py_BuildValue</strong> function −</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PyObject* Py_BuildValue(char* format,...)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here <em>format</em> is a C string that describes the Python object to build. The following arguments of <em>Py_BuildValue</em> are C values from which the result is built. The <em>PyObject</em>* result is a new reference.</p>
<p>Following table lists the commonly used code strings, of which zero or more are joined into string format.</p>
<table><thead><tr><th style="text-align:center">Code</th><th style="text-align:center">C type</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center"><code>c</code></td><td style="text-align:center"><code>char</code></td><td style="text-align:center">A C char becomes a Python string of length 1.</td></tr><tr><td style="text-align:center"><code>d</code></td><td style="text-align:center"><code>double</code></td><td style="text-align:center">A C double becomes a Python float.</td></tr><tr><td style="text-align:center"><code>f</code></td><td style="text-align:center"><code>float</code></td><td style="text-align:center">A C float becomes a Python float.</td></tr><tr><td style="text-align:center"><code>i</code></td><td style="text-align:center"><code>int</code></td><td style="text-align:center">A C int becomes a Python int.</td></tr><tr><td style="text-align:center"><code>l</code></td><td style="text-align:center"><code>long</code></td><td style="text-align:center">A C long becomes a Python int.</td></tr><tr><td style="text-align:center"><code>N</code></td><td style="text-align:center"><code>PyObject*</code></td><td style="text-align:center">Passes a Python object and steals a reference.</td></tr><tr><td style="text-align:center"><code>O</code></td><td style="text-align:center"><code>PyObject*</code></td><td style="text-align:center">Passes a Python object and INCREFs it as normal.</td></tr><tr><td style="text-align:center"><code>O&amp;</code></td><td style="text-align:center"><code>convert+void*</code></td><td style="text-align:center">Arbitrary conversion</td></tr><tr><td style="text-align:center"><code>s</code></td><td style="text-align:center"><code>char*</code></td><td style="text-align:center">C 0-terminated char* to Python string, or NULL to None.</td></tr><tr><td style="text-align:center"><code>s#</code></td><td style="text-align:center"><code>char*+int</code></td><td style="text-align:center">C char* and length to Python string, or NULL to None.</td></tr><tr><td style="text-align:center"><code>u</code></td><td style="text-align:center"><code>Py_UNICODE*</code></td><td style="text-align:center">C-wide, null-terminated string to Python Unicode, or NULL to None.</td></tr><tr><td style="text-align:center"><code>u#</code></td><td style="text-align:center"><code>Py_UNICODE*+int</code></td><td style="text-align:center">C-wide string and length to Python Unicode, or NULL to None.</td></tr><tr><td style="text-align:center"><code>w#</code></td><td style="text-align:center"><code>char*+int</code></td><td style="text-align:center">Read/write single-segment buffer to C address and length.</td></tr><tr><td style="text-align:center"><code>z</code></td><td style="text-align:center"><code>char*</code></td><td style="text-align:center">Like s, also accepts None (sets C char* to NULL).</td></tr><tr><td style="text-align:center"><code>z#</code></td><td style="text-align:center"><code>char*+int</code></td><td style="text-align:center">Like s#, also accepts None (sets C char* to NULL).</td></tr><tr><td style="text-align:center"><code>(...)</code></td><td style="text-align:center">as per <code>...</code></td><td style="text-align:center">Builds Python tuple from C values.</td></tr><tr><td style="text-align:center"><code>[...]</code></td><td style="text-align:center">as per <code>...</code></td><td style="text-align:center">Builds Python list from C values.</td></tr><tr><td style="text-align:center"><code>{...}</code></td><td style="text-align:center">as per <code>...</code></td><td style="text-align:center">Builds Python dictionary from C values, alternating keys and values.</td></tr></tbody></table>
<p>Code <code>{...}</code> builds dictionaries from an even number of C values, alternately keys and values. For example, <code>Py_BuildValue(&quot;{issi}&quot;,23,&quot;zig&quot;,&quot;zag&quot;,42)</code> returns a dictionary like Python&#x27;s <code>{23:&#x27;zig&#x27;,&#x27;zag&#x27;:42}</code>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/docs/Document 001/027"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">27. GUI Programming (Tkinter)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pre-requisites-for-writing-extensions" class="table-of-contents__link toc-highlight">Pre-Requisites for Writing Extensions</a></li><li><a href="#first-look-at-a-python-extension" class="table-of-contents__link toc-highlight">First look at a Python Extension</a></li><li><a href="#the-header-file-pythonh" class="table-of-contents__link toc-highlight">The Header File <em>Python.h</em></a></li><li><a href="#the-c-functions" class="table-of-contents__link toc-highlight">The C Functions</a></li><li><a href="#the-method-mapping-table" class="table-of-contents__link toc-highlight">The Method Mapping Table</a><ul><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#the-initialization-function" class="table-of-contents__link toc-highlight">The Initialization Function</a><ul><li><a href="#example-1" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#building-and-installing-extensions" class="table-of-contents__link toc-highlight">Building and Installing Extensions</a></li><li><a href="#importing-extensions" class="table-of-contents__link toc-highlight">Importing Extensions</a></li><li><a href="#passing-function-parameters" class="table-of-contents__link toc-highlight">Passing Function Parameters</a></li><li><a href="#the-pyarg_parsetuple-function" class="table-of-contents__link toc-highlight">The <em>PyArg_ParseTuple</em> Function</a></li><li><a href="#returning-values" class="table-of-contents__link toc-highlight">Returning Values</a></li><li><a href="#the-py_buildvalue-function" class="table-of-contents__link toc-highlight">The <em>Py_BuildValue</em> Function</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><span class="footer__link-item">
              <a href="https://www.netlify.com" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify" width="114" height="51">
              </a>
            </span></div></div></div></footer></div>
</body>
</html>